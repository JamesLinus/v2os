<html>

<head>

<meta name="GENERATOR" content="Microsoft FrontPage 3.0">

<base target="_self">
<title>System32 Services</title>
<meta name="Microsoft Border" content="none"></head>

<body bgcolor="#000000" bgproperties="fixed" text="#FFFFFF" link="#FFFFFF" vlink="#FFFFFF" alink="#FFFFFF">

<p><font face="Century Gothic"><big><big><strong>System32 Function 01 (01h) - Set
Interrupt Vector</strong></big></big></font></p>

<table border="0" width="100%" cellspacing="0" cellpadding="0" height="23">
  <tr>
    <td width="100%" bgcolor="#00384A" height="21"><font face="Century Gothic"><big><strong>Description</strong></big></font></td>
  </tr>
</table>

<table border="0" cellspacing="0" cellpadding="2" width="100%">
  <tr>
    <td><font face="Century Gothic">This service lets applications hook interrupts. Even
    though the system is flexible enough to let applications modify the IDT themselves, it is
    advised that applications use this routine. This makes it possible for the V2_OS to unhook
    interrupts when an application unexpectedly crashes, or is being terminated for any other
    reason. It also makes it possible for other applications to see who hooked this interrupt.
    This could be usefull for determining if an 'updated service' should be installed or not.</font></td>
  </tr>
</table>

<table border="0" width="100%" cellspacing="0" cellpadding="0" height="23">
  <tr>
    <td width="100%" bgcolor="#00384A" height="21"><font face="Century Gothic"><big><strong>Input</strong></big></font></td>
  </tr>
</table>

<table border="0" cellspacing="0" cellpadding="2">
  <tr>
    <th width="59"><p align="right"><font face="Century Gothic">AL</font></th>
    <td><font face="Century Gothic">01h</font></td>
  </tr>
  <tr>
    <th width="59"><p align="right"><font face="Century Gothic">AH</font></th>
    <td><font face="Century Gothic">Interrupt number to hook (00h-ffh)</font></td>
  </tr>
  <tr>
    <th width="59"><p align="right"><font face="Century Gothic">BX</font></th>
    <td><font face="Century Gothic">Code selector of the new interrupt handler</font></td>
  </tr>
  <tr>
    <th width="59"><p align="right"><font face="Century Gothic">EDI</font></th>
    <td><font face="Century Gothic">Offset of the new interrupt handler in the BX selector</font></td>
  </tr>
</table>

<table border="0" width="100%" cellspacing="0" cellpadding="0" height="23">
  <tr>
    <td width="100%" bgcolor="#00384A" height="21"><font face="Century Gothic"><big><strong>Output</strong></big></font></td>
  </tr>
</table>

<table border="0" cellspacing="0" cellpadding="2">
  <tr>
    <th width="59"><p align="right"><font face="Century Gothic">None</font></th>
    <td><font face="Century Gothic">Always successful</font></td>
  </tr>
</table>

<table border="0" width="100%" cellspacing="0" cellpadding="0" height="23">
  <tr>
    <td width="100%" bgcolor="#00384A" height="21"><font face="Century Gothic"><big><strong>Errorcodes</strong></big></font></td>
  </tr>
</table>

<table border="0" cellspacing="0" cellpadding="2">
  <tr>
    <th width="59"><p align="right"><font face="Century Gothic">None</font></th>
    <td><font face="Century Gothic">Always successful</font></td>
  </tr>
</table>

<table border="0" width="100%" cellspacing="0" cellpadding="0" height="23">
  <tr>
    <td width="100%" bgcolor="#00384A" height="21"><font face="Century Gothic"><big><strong>Notes</strong></big></font></td>
  </tr>
</table>

<table border="0" cellspacing="0" cellpadding="2" width="100%">
  <tr>
    <td><font face="Century Gothic">*Selectors passed to this service should always reside in
    the GDT(Global Descriptor Table), not in a LDT(Local Descriptor Table). If BX is the CS of
    the application, the selector is always in the GDT.<br>
    *If an application chooses to hook an interrupt to an interrupthandler in a selector that
    has not (yet) been allocated, the service will let it. It is the applications task to make
    sure that the intterupt is not fired until the selector is allocated and the code is
    installed.</font></td>
  </tr>
</table>

<table border="0" width="100%" cellspacing="0" cellpadding="0" height="23">
  <tr>
    <td width="100%" bgcolor="#00384A" height="21"><font face="Century Gothic"><big><strong>Development
    Status</strong></big></font></td>
  </tr>
</table>

<table border="0" cellspacing="0" cellpadding="2" width="100%">
  <tr>
    <td><font face="Century Gothic">Complete</font></td>
  </tr>
</table>

<p align="center"><a href="../../../../V2_OS/new/developer/system32servicesdescription.htm"><big><big><strong><font face="Century Gothic">Back</font></strong></big></big></a><br>
</p>
</body>
</html>
